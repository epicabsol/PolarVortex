<Application x:Class="WorldEditor.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
             xmlns:local="clr-namespace:WorldEditor"
             StartupUri="StartWindow.xaml"
             ShutdownMode="OnLastWindowClose">
    <Application.Resources>
        <!-- Colors -->
        <Color x:Key="Hover">#20FFFFFF</Color>
        <Color x:Key="Background">#353535</Color>
        <Color x:Key="BackgroundHeading">#404040</Color>
        <Color x:Key="BackgroundWell">#282828</Color>
        <Color x:Key="Accent">#DD22AA</Color>
        <Color x:Key="Collision">#B0CC3322</Color>
        <Color x:Key="ForegroundPrimary">#F1F1F1</Color>
        <Color x:Key="ForegroundSecondary">#C3C3C3</Color>
        <Color x:Key="Green">#FF8dd28a</Color>

        <!-- Brushes -->
        <SolidColorBrush x:Key="HoverBrush" Color="{StaticResource Hover}" />
        <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource Background}" />
        <SolidColorBrush x:Key="BackgroundHeadingBrush" Color="{StaticResource BackgroundHeading}" />
        <SolidColorBrush x:Key="BackgroundWellBrush" Color="{StaticResource BackgroundWell}" />
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource Accent}" />
        <SolidColorBrush x:Key="CollisionBrush" Color="{StaticResource Collision}" />
        <SolidColorBrush x:Key="ForegroundPrimaryBrush" Color="{StaticResource ForegroundPrimary}" />
        <SolidColorBrush x:Key="ForegroundSecondaryBrush" Color="{StaticResource ForegroundSecondary}" />
        <SolidColorBrush x:Key="GreenBrish" Color="{StaticResource Green}" />

        <!-- Icons -->
        <DrawingImage x:Key="ToolBrush32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 26.765625 4.08972 c -0.02741 8.7e-4 -0.05478 0.003 -0.08203 0.006 -0.386083 0.0433 -0.549307 0.15256 -0.794922 0.27734 -0.245615 0.12478 -0.517722 0.28412 -0.828125 0.47852 -0.620807 0.38878 -1.389828 0.91712 -2.259766 1.55078 -1.739876 1.26731 -3.877725 2.94836 -5.923828 4.6914 -2.046103 1.74305 -3.993898 3.53901 -5.367187 5.07422 -0.686645 0.76761 -1.230829 1.46038 -1.5898441 2.12305 -0.2061219 0.38531 -0.4139367 1.00108 -0.3476561 1.15234 -0.7163317 0.35343 -1.2329214 0.8698 -1.5761718 1.5625 -0.7878694 -0.004 -1.504119 0.26519 -2.0078126 0.69532 -0.5072107 0.43312 -0.8094571 0.97339 -1.0292968 1.48632 -0.4396794 1.02586 -0.6801619 2.08099 -0.8066406 2.28321 -0.1792537 0.2866 -0.3515203 0.45081 -0.4628907 0.54101 -0.1113703 0.0902 -0.09375 0.0742 -0.09375 0.0742 C 2.6097822 26.52429 2.9210185 27.99769 4 27.99987 c 1.6515316 0 1.1534986 0.005 2.3925781 0.006 2.6502701 0.002 4.5749809 -1.8122 4.6035159 -3.98242 0.714743 -0.35061 1.241741 -0.87745 1.591797 -1.60156 0.417729 0.0712 0.862546 -0.234 1.183593 -0.37891 0.675573 -0.38296 1.394776 -0.95845 2.19336 -1.68164 1.597167 -1.44637 3.473467 -3.48313 5.269531 -5.59375 1.796064 -2.11062 3.503284 -4.28817 4.732422 -6.0039 0.614569 -0.85787 1.108964 -1.59533 1.447265 -2.18165 0.169151 -0.29315 0.299326 -0.54241 0.396485 -0.80273 0.04858 -0.13016 0.09435 -0.25848 0.113281 -0.45703 -0.005 -0.52293 -0.193257 -0.72994 -0.443363 -0.95911 -0.195534 -0.17917 -0.449734 -0.28067 -0.714844 -0.27343 z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="M 26.794922 5.0898438 C 25.31334 5.2559617 10.221866 17.046716 10.537109 19.689453 l 1.783203 1.783203 c 2.67086 0.271775 15.263022 -15.6783907 14.582032 -16.3593748 -0.0221 -0.0221 -0.05774 -0.029038 -0.107422 -0.023437 z M 9.7363281 20.302734 c -0.5049574 0.274205 -0.8699322 0.660927 -1.0644531 1.1875 0.077986 0.238558 0.4466386 0.790385 0.8808594 1.214844 0.2281182 0.22299 0.4662956 0.420001 0.6562496 0.550781 0.08605 0.05923 0.167424 0.09179 0.22461 0.115235 0.583481 -0.195295 1.003609 -0.56725 1.287109 -1.083985 z M 7.7949219 22.013672 C 5.6622551 22.164952 5.6636745 24.938881 5 26 c -0.482004 0.77066 -1 1 -1 1 1.6535475 0 1.156412 0.0049 2.3925781 0.0059 2.111374 0.0019 3.4095898 -1.214479 3.5742188 -2.714843 C 9.8565423 24.231744 9.7563328 24.159741 9.640625 24.080078 9.3872568 23.905638 9.1170576 23.677552 8.8535156 23.419922 8.4231264 22.999204 8.0161568 22.533605 7.7949219 22.013672 Z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="ToolEntities32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 12 0 c -1.656854 0 -3 1.3431458 -3 3 0.00104 0.8524161 0.3646455 1.6641447 1 2.2324219 V 8 H 8 v 6 H 5.828125 L 5 13.171875 V 11.230469 C 5.6348484 10.662646 5.9984091 9.8517352 6 9 6 7.3431458 4.6568542 6 3 6 1.3431458 6 0 7.3431458 0 9 c 0.00103653 0.8524162 0.36464546 1.664145 1 2.232422 v 3.595703 L 4.171875 18 H 8 v 6 h 6 v 2.769531 C 13.365152 27.337354 13.001591 28.148265 13 29 c 0 1.656854 1.343146 3 3 3 1.656854 0 3 -1.343146 3 -3 -0.001 -0.852416 -0.364645 -1.664145 -1 -2.232422 V 24 h 6 v -3 h 1.171875 l 0.835937 0.835938 C 26.003711 21.890544 26.001106 21.945252 26 22 c 0 1.656854 1.343146 3 3 3 1.656854 0 3 -1.343146 3 -3 0 -1.656854 -1.343146 -3 -3 -3 -0.05538 4.34e-4 -0.110742 0.0024 -0.166016 0.0059 l -0.01563 -0.01563 c 0.06044 0.0051 0.121013 0.0083 0.181646 0.0097 1.656854 0 3 -1.343146 3 -3 0 -1.656854 -1.343146 -3 -3 -3 -0.05538 4.34e-4 -0.110742 0.0024 -0.166016 0.0059 L 26.828125 11 H 24 V 8 H 22 V 5.2304688 C 22.634848 4.6626458 22.998409 3.8517352 23 3 23 1.3431458 21.656854 0 20 0 c -1.656854 0 -3 1.3431458 -3 3 0.001 0.8524161 0.364645 1.6641447 1 2.2324219 V 8 H 14 V 5.2304688 C 14.634848 4.6626458 14.998409 3.8517352 15 3 15 1.3431458 13.656854 0 12 0 Z m 12 15 h 1.171875 l 0.835937 0.835938 C 26.003711 15.890544 26.001106 15.945252 26 16 c 7.24e-4 0.340787 0.05951 0.678959 0.173828 1 H 24 Z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 12 1 c -1.104569 0 -2 0.8954305 -2 2 0.0013 0.7132679 0.38229 1.3718822 1 1.7285156 V 9 H 9 v 6 H 5.4140625 L 4 13.585938 V 10.728516 C 4.6177098 10.371883 4.9987387 9.713268 5 9 5 7.8954305 4.1045695 7 3 7 1.8954305 7 1 7.8954305 1 9 c 5.648e-4 0.713966 0.381687 1.373486 1 1.730469 v 3.683593 L 4.5859375 17 H 9 v 6 h 6 v 4.269531 C 14.381687 27.626514 14.000565 28.286034 14 29 c 0 1.104569 0.895431 2 2 2 1.104569 0 2 -0.895431 2 -2 -0.0013 -0.713268 -0.38229 -1.371883 -1 -1.728516 V 23 h 6 v -3 h 2.585938 l 1.484374 1.484375 C 27.024518 21.652454 27.000881 21.825796 27 22 c 0 1.104569 0.895431 2 2 2 1.104569 0 2 -0.895431 2 -2 0 -1.104569 -0.895431 -2 -2 -2 -0.174772 7.4e-5 -0.34878 0.02306 -0.517578 0.06836 L 26.414062 18 H 23 v -4 h 2.585938 l 1.484374 1.484375 C 27.024518 15.652454 27.000881 15.825796 27 16 c 0 1.104569 0.895431 2 2 2 1.104569 0 2 -0.895431 2 -2 0 -1.104569 -0.895431 -2 -2 -2 -0.174772 7.4e-5 -0.34878 0.02306 -0.517578 0.06836 L 26.414062 12 H 23 V 9 H 21 V 4.7304688 C 21.618313 4.373486 21.999435 3.7139659 22 3 22 1.8954305 21.104569 1 20 1 c -1.104569 0 -2 0.8954305 -2 2 0.0013 0.7132679 0.38229 1.3718822 1 1.7285156 V 9 H 13 V 4.7304688 C 13.618313 4.373486 13.999435 3.7139659 14 3 14 1.8954305 13.104569 1 12 1 Z m 0 1 c 0.552285 0 1 0.4477153 1 1 0 0.5522847 -0.447715 1 -1 1 -0.552285 0 -1 -0.4477153 -1 -1 0 -0.5522847 0.447715 -1 1 -1 z m 8 0 c 0.552285 0 1 0.4477153 1 1 0 0.5522847 -0.447715 1 -1 1 C 19.447715 4 19 3.5522847 19 3 19 2.4477153 19.447715 2 20 2 Z M 3 8 C 3.5522847 8 4 8.4477153 4 9 4 9.5522847 3.5522847 10 3 10 2.4477153 10 2 9.5522847 2 9 2 8.4477153 2.4477153 8 3 8 Z m 8 2 h 2 6 2 l 1 1 v 1 2 4 2 1 l -1 1 h -4 -2 -4 l -1 -1 v -4 -2 -4 z m 0 3 v 1 h 1 v -1 z m 2 0 v 1 h 2 v -1 z m -2 2 v 5 h 3 v -1 h -2 v -1 h 1 v -1 h -1 v -1 h 2 v -1 z m 18 0 c 0.552285 0 1 0.447715 1 1 0 0.552285 -0.447715 1 -1 1 -0.552285 0 -1 -0.447715 -1 -1 0 -0.552285 0.447715 -1 1 -1 z m 0 6 c 0.552285 0 1 0.447715 1 1 0 0.552285 -0.447715 1 -1 1 -0.552285 0 -1 -0.447715 -1 -1 0 -0.552285 0.447715 -1 1 -1 z m -13 7 c 0.552285 0 1 0.447715 1 1 0 0.552285 -0.447715 1 -1 1 -0.552285 0 -1 -0.447715 -1 -1 0 -0.552285 0.447715 -1 1 -1 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="ToolCollision32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 2 8 v 16 h 16 v -6.87891 l 6.232422 6.23243 -2.646484 2.64648 H 29 v -7.41406 l -2.646484 2.64648 -5.232422 -5.23242 9.939453 -9.93945 1.060547 -1.06055 L 30 2.87891 28.939453 3.93945 18 14.87891 v -6.87891 z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 3 9 v 14 h 14 v -14 z m 27 -4.70703 -0.353516 0.35351 -11.353515 11.35352 7.353515 7.35352 L 24 25 h 4 v -4 l -1.646484 1.64648 -6.646485 -6.64648 10.646485 -10.64648 0.353515 -0.35352 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="ToolDecor32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 16 2 c -0.375 0 -0.755032 0.1704519 -0.998047 0.3886719 -0.243014 0.21821 -0.384336 0.4615019 -0.492187 0.7011719 -0.215702 0.47933 -0.308092 0.9862193 -0.376954 1.5371093 -0.04648 0.3718108 -0.05846 0.7705848 -0.07812 1.1640625 C 13.908182 5.5728127 13.782453 5.3644223 13.625 5.1503906 13.265535 4.6617606 12.896406 4.2048569 12.466797 3.8417969 12.251992 3.6602669 12.022506 3.4928094 11.703125 3.3808594 11.383744 3.2689194 10.896928 3.2454994 10.5 3.4746094 c -0.324759 0.1875 -0.5685736 0.5254475 -0.6699219 0.8359375 -0.1013482 0.31049 -0.1026044 0.5900825 -0.076172 0.8515625 0.052866 0.52297 0.2255992 1.0080212 0.4414059 1.5195312 0.145254 0.344283 0.332446 0.6951717 0.511719 1.0449219 C 10.472682 7.6116126 10.261239 7.4945712 10.019531 7.3886719 9.4639087 7.1452319 8.9149127 6.9355575 8.3613281 6.8359375 8.0845359 6.7861375 7.8032687 6.7556594 7.4707031 6.8183594 7.1381376 6.8810594 6.7037747 7.10307 6.4746094 7.5 6.2871104 7.82476 6.2430728 8.2390237 6.3105469 8.5585938 c 0.067474 0.3195599 0.2076942 0.5641037 0.3613281 0.7773437 0.3072678 0.42647 0.6999271 0.7586685 1.1425781 1.0937505 0.2986122 0.226043 0.6378784 0.436544 0.96875 0.65039 -0.2621348 0.01765 -0.5055868 0.02148 -0.7695312 0.05078 -0.6029018 0.067 -1.1817115 0.15909 -1.7109375 0.34961 -0.264613 0.0953 -0.5246114 0.21102 -0.78125 0.43164 C 5.2648458 12.13273 5 12.54167 5 13 c 0 0.375 0.1704547 0.755037 0.3886719 0.998047 0.2182172 0.24301 0.4615028 0.384337 0.7011719 0.492187 0.479338 0.2157 0.9842702 0.308092 1.5351562 0.376954 0.3720131 0.0465 0.772026 0.05847 1.1660156 0.07812 -0.2182021 0.1465 -0.4265938 0.272235 -0.640625 0.429688 -0.4886338 0.35947 -0.9455312 0.728593 -1.3085937 1.158203 -0.1815313 0.2148 -0.3489918 0.444292 -0.4609375 0.763672 -0.1119457 0.31938 -0.1354154 0.806195 0.09375 1.203125 0.187499 0.32476 0.5234952 0.568582 0.8339844 0.669922 0.3104889 0.10135 0.5920302 0.102584 0.8535156 0.07617 0.5229708 -0.0529 1.0080193 -0.225596 1.5195312 -0.441406 0.3442804 -0.145251 0.6951734 -0.332446 1.0449214 -0.511719 -0.11495 0.234349 -0.23199 0.445793 -0.33789 0.6875 -0.243437 0.55562 -0.4531177 1.104613 -0.5527345 1.658203 -0.049808 0.27679 -0.08032 0.558055 -0.017578 0.890625 0.00906 0.04802 0.029176 0.100935 0.044922 0.152344 -0.1989473 -0.0632 -0.4115926 -0.112557 -0.6621093 -0.101563 -0.3262979 0.0143 -0.7166076 0.159335 -0.984375 0.421875 -0.3272746 0.32087 -0.4342481 0.797056 -0.4121094 1.134766 0.022139 0.33771 0.1230008 0.601792 0.2402344 0.857422 0.2344671 0.51128 0.5749635 0.99135 0.9492187 1.46875 0.7485104 0.9548 1.6460461 1.865636 1.9960931 2.222656 0.350064 0.35707 0.719462 0.782134 1.308594 1.083984 0.294566 0.15093 0.678083 0.26724 1.09961 0.21875 0.209324 -0.02408 0.412742 -0.09097 0.601562 -0.1875 V 31 h 4 v -0.199219 c 0.18882 0.09653 0.392238 0.163426 0.601562 0.1875 0.421525 0.0485 0.805044 -0.0678 1.09961 -0.21875 0.589132 -0.30185 0.958529 -0.726914 1.308594 -1.083984 0.350047 -0.35702 1.247583 -1.267846 1.996093 -2.222656 0.374256 -0.4774 0.714752 -0.95747 0.949219 -1.46875 0.117234 -0.25564 0.218096 -0.519712 0.240234 -0.857422 0.02214 -0.33771 -0.08484 -0.813896 -0.412109 -1.134766 -0.26777 -0.26254 -0.658078 -0.407555 -0.984375 -0.421875 -0.326297 -0.0143 -0.598948 0.0606 -0.84375 0.15625 -0.489603 0.19126 -0.908907 0.486881 -1.34375 0.832031 -0.869685 0.69031 -1.756936 1.602357 -2.457031 2.316407 -0.06015 0.06135 -0.09922 0.120775 -0.154297 0.18164 v -6.779297 c 0.129776 0.191412 0.237135 0.375098 0.375 0.5625 0.359465 0.48864 0.728594 0.945524 1.158203 1.308594 0.214805 0.18153 0.444291 0.348998 0.763672 0.460938 0.319381 0.11195 0.806197 0.137376 1.203125 -0.0918 0.324759 -0.1875 0.568574 -0.525448 0.669922 -0.835938 0.101348 -0.31049 0.102609 -0.592025 0.07617 -0.853515 -0.05287 -0.52297 -0.225599 -1.008022 -0.441406 -1.519532 -0.145473 -0.344798 -0.332145 -0.696608 -0.511719 -1.046875 0.234489 0.115026 0.445638 0.233877 0.6875 0.339844 0.555623 0.24344 1.104618 0.453114 1.658203 0.552734 0.276792 0.0498 0.558059 0.08028 0.890625 0.01758 0.332565 -0.0627 0.766928 -0.284711 0.996094 -0.681641 0.187499 -0.32476 0.231536 -0.739034 0.164062 -1.058594 -0.06747 -0.31957 -0.207694 -0.564113 -0.361328 -0.777344 -0.307268 -0.42648 -0.699927 -0.75868 -1.142578 -1.09375 -0.298612 -0.226043 -0.637879 -0.436542 -0.96875 -0.65039 0.262135 -0.01765 0.505587 -0.02148 0.769531 -0.05078 0.602902 -0.067 1.181712 -0.15908 1.710938 -0.34961 0.264613 -0.0953 0.524611 -0.21102 0.78125 -0.43164 C 26.735156 13.867272 27 13.45834 27 13 c 0 -0.375 -0.170455 -0.755037 -0.388672 -0.998047 -0.218217 -0.24302 -0.461503 -0.384337 -0.701172 -0.492187 -0.479338 -0.2157 -0.98427 -0.308092 -1.535156 -0.376954 -0.371406 -0.04643 -0.770723 -0.06041 -1.164062 -0.08008 C 23.42852 10.906619 23.636199 10.781996 23.849609 10.625 24.338243 10.26554 24.795141 9.8964069 25.158203 9.4667969 25.339734 9.2519869 25.507195 9.022505 25.619141 8.703125 25.731086 8.383745 25.754556 7.89693 25.525391 7.5 25.337892 7.17524 25.001895 6.9314281 24.691406 6.8300781 c -0.310489 -0.10135 -0.59203 -0.1025718 -0.853515 -0.076172 -0.522971 0.0529 -1.00802 0.2255963 -1.519532 0.4414063 -0.34428 0.1452509 -0.695173 0.3324467 -1.044921 0.5117187 0.11495 -0.2343498 0.23199 -0.4457914 0.33789 -0.6875 0.243437 -0.5556198 0.453118 -1.1046231 0.552734 -1.6582031 0.04981 -0.27679 0.08032 -0.558065 0.01758 -0.890625 C 22.1189 4.1381332 21.896928 3.7037794 21.5 3.4746094 c -0.324759 -0.1875 -0.739029 -0.2315325 -1.058594 -0.1640625 -0.319565 0.0675 -0.564107 0.2076881 -0.777344 0.3613281 -0.426472 0.30727 -0.758669 0.6999281 -1.09375 1.1425781 -0.226043 0.2986114 -0.436543 0.6378791 -0.65039 0.96875 -0.01765 -0.2616309 -0.0215 -0.5040098 -0.05078 -0.7675781 -0.06699 -0.6029 -0.159088 -1.1836706 -0.34961 -1.7128906 -0.09526 -0.26462 -0.211021 -0.52461 -0.43164 -0.78125 C 16.86727 2.2648444 16.458333 2 16 2 Z m -2 18.335938 v 4.730468 c -0.05508 -0.06087 -0.09414 -0.120289 -0.154297 -0.18164 -0.663127 -0.676345 -1.495333 -1.520389 -2.320312 -2.195313 0.01023 -0.0019 0.02315 0.0021 0.0332 0 0.319565 -0.0675 0.564107 -0.207698 0.777344 -0.361328 0.426472 -0.30727 0.75867 -0.699928 1.09375 -1.142578 C 13.627923 20.923673 13.810801 20.624281 14 20.335938 Z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 16 3 c -0.890626 0 -0.983486 2.3556044 -0.994141 4.2890625 0.06855 0.1173362 0.181478 0.3027711 0.226563 0.3808594 0.249999 0.43302 0.560651 0.9042246 0.693359 1.5527343 0.04651 0.2272915 0.06177 0.4924191 0.01367 0.765625 C 15.956369 9.9900928 16 10 16 10 c 0.07473 0 0.133288 -0.016592 0.197266 -0.027344 -0.09937 -0.629124 0.04784 -1.397787 0.570312 -2.3027343 0.06664 -0.115424 0.151531 -0.2561044 0.222656 -0.3789063 C 16.971728 5.8141712 16.852677 3 16 3 Z m 4.830078 1.28125 c -0.88204 -0.1202119 -2.257812 2.264875 -3.195312 3.8886719 -1 1.73205 -0.134766 2.2324221 -0.134766 2.2324221 0.06439 0.03717 0.123104 0.05159 0.183594 0.07422 0.228167 -0.5947685 0.741039 -1.1862282 1.646484 -1.7089839 0.115041 -0.066419 0.258314 -0.146234 0.38086 -0.2167969 C 20.433406 7.2623621 21.738336 4.7661222 21 4.3398438 20.945873 4.3085938 20.888881 4.2892641 20.830078 4.28125 Z M 11.175781 4.29102 C 11.113441 4.2929 11.054127 4.308598 11 4.339848 c -0.866025 0.5 0.634766 3.0980281 1.634766 4.8300781 C 13.634766 10.901972 14.5 10.402344 14.5 10.402344 15.366025 9.9023438 14.865234 9.0359519 14.365234 8.1699219 13.896484 7.3580281 12.110921 4.2627772 11.175781 4.2910156 Z M 23.9375 7.75 C 22.914664 7.8533936 21.129116 8.8847656 19.830078 9.6347656 18.098027 10.634766 18.597656 11.5 18.597656 11.5 c 0.5 0.86603 1.366397 0.365234 2.232422 -0.134766 C 21.696103 10.865234 25.160156 8.86603 24.660156 8 24.535156 7.7834925 24.278445 7.7155355 23.9375 7.75 Z M 8.0195312 7.7949219 C 7.8835572 7.7807105 7.7612107 7.7809788 7.65625 7.8007812 7.5119854 7.827999 7.4023438 7.8917462 7.3398438 8 c -0.5 0.86603 2.0980272 2.365234 3.8300782 3.365234 1.732051 1 2.232422 0.134766 2.232422 0.134766 0.03683 -0.0638 0.05166 -0.12167 0.07422 -0.181641 C 12.881798 11.089866 12.290337 10.575373 11.767578 9.6699219 11.701159 9.5548819 11.621344 9.4116076 11.550781 9.2890625 10.588706 8.7495882 8.9713498 7.8944014 8.0195312 7.7949219 Z M 16 11 a 2 2 0 0 0 -2 2 2 2 0 0 0 2 2 2 2 0 0 0 2 -2 2 2 0 0 0 -2 -2 z m 5.708984 1.005859 c -0.11664 0.06813 -0.301174 0.181686 -0.378906 0.226563 -0.433013 0.25001 -0.904221 0.560659 -1.552734 0.693359 -0.22729 0.0465 -0.492419 0.06177 -0.765625 0.01367 C 19.009907 12.956369 19 13 19 13 c 0 0.07473 0.01659 0.133288 0.02734 0.197266 0.277807 -0.04433 0.575886 -0.05352 0.910156 0.01367 0.421861 0.08478 0.887396 0.26497 1.392578 0.55664 0.115425 0.06664 0.256104 0.151531 0.378906 0.222656 C 23.185833 13.97173 26 13.852677 26 13 26 12.109073 23.642793 12.016459 21.708984 12.005859 Z m -11.417968 0.0039 C 8.8141706 12.028272 6 12.147323 6 13 c 0 0.890626 2.3556054 0.983486 4.289062 0.994141 0.117339 -0.06855 0.302769 -0.181477 0.38086 -0.226563 0.433013 -0.25 0.904221 -0.560649 1.552734 -0.693359 0.22729 -0.0465 0.492419 -0.06177 0.765625 -0.01367 C 12.990093 13.043631 13 13 13 13 c 0 -0.07473 -0.01659 -0.133288 -0.02734 -0.197266 -0.628988 0.09974 -1.397261 -0.04753 -2.302734 -0.570312 -0.115425 -0.06664 -0.256104 -0.151531 -0.378906 -0.222656 z m 2.414062 2.019531 c -0.451904 -0.021 -0.993891 0.292969 -1.535156 0.605469 -0.866025 0.5 -4.3300782 2.499204 -3.8300782 3.365234 0.5 0.86603 3.0980272 -0.634766 4.8300782 -1.634766 1.732051 -1 1.232422 -1.865234 1.232422 -1.865234 -0.1875 -0.324761 -0.426123 -0.458101 -0.697266 -0.470703 z m 6.658203 0.123047 C 18.793933 14.161923 18.597656 14.5 18.597656 14.5 c -0.03717 0.06439 -0.05158 0.123104 -0.07422 0.183594 0.594763 0.228168 1.186225 0.741042 1.708984 1.646484 0.06642 0.115041 0.146234 0.258313 0.216797 0.38086 1.288421 0.722467 3.784659 2.027402 4.210937 1.289062 0.5 -0.86603 -2.098027 -2.365234 -3.830078 -3.365234 -0.649519 -0.375 -1.125188 -0.48817 -1.466797 -0.482422 z m -5.046875 1.371094 c -0.228167 0.594762 -0.741039 1.186228 -1.646484 1.708984 -0.115041 0.06642 -0.258313 0.146234 -0.38086 0.216797 -0.722467 1.288417 -2.027398 3.784659 -1.289062 4.210937 0.866025 0.5 2.365234 -2.098028 3.365234 -3.830078 1 -1.73205 0.134766 -2.232422 0.134766 -2.232422 -0.06439 -0.03717 -0.123104 -0.05159 -0.183594 -0.07422 z m 3.509766 0.0078 C 17.621207 15.527802 17.5 15.597656 17.5 15.597656 c -0.866025 0.5 -0.365234 1.366392 0.134766 2.232422 0.5 0.86602 2.499209 4.330078 3.365234 3.830078 0.866025 -0.5 -0.634766 -3.098028 -1.634766 -4.830078 -0.625 -1.082531 -1.197453 -1.293081 -1.539062 -1.298828 z M 16 16 c -0.07473 0 -0.133288 0.01659 -0.197266 0.02734 0.09974 0.628994 -0.04754 1.397264 -0.570312 2.302734 -0.06664 0.115425 -0.151531 0.256103 -0.222656 0.378906 C 15.028272 20.185833 15.147323 23 16 23 c 0.890927 0 0.983541 -2.357207 0.994141 -4.291016 -0.06833 -0.116969 -0.181587 -0.301005 -0.226563 -0.378906 -0.249999 -0.43301 -0.560651 -0.904224 -0.693359 -1.552734 -0.04651 -0.227292 -0.06177 -0.49242 -0.01367 -0.765625 C 16.043631 16.009907 16 16 16 16 Z m -6.7539062 6.578125 c -0.1285013 0.0056 -0.2388689 0.04921 -0.328125 0.136719 -0.7140493 0.70009 2.0850612 3.557434 2.7851562 4.271484 0.700095 0.7141 1.401185 1.426663 2.115234 0.726563 0 0 0.71269 -0.698854 -0.6875 -2.126953 -1.225167 -1.249588 -2.985257 -3.04728 -3.8847652 -3.007813 z M 15 23.5625 V 30 h 2 v -6.390625 c 0 0 -0.002 0.002 -0.002 0.002 C 16.755079 23.829501 16.375 24 16 24 15.592334 24 15.231754 23.789414 15 23.5625 Z m 7.753906 1.015625 c -0.899508 -0.03946 -2.659598 1.758225 -3.884765 3.007813 -1.400191 1.428089 -0.6875 2.126953 -0.6875 2.126953 0.714049 0.7001 1.415138 -0.01246 2.115234 -0.726563 0.700095 -0.71405 3.499206 -3.571384 2.785156 -4.271484 -0.08926 -0.08751 -0.199624 -0.131082 -0.328125 -0.136719 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="ToolBackground32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 3 3 v 8 H 7 V 7 h 4 V 3 Z m 18 0 v 4 h 4 v 4 h 4 V 3 Z M 15.919922 6.9238281 13 12.763672 12.080078 10.923828 8 17.722656 V 24 H 24 V 17.763672 L 20 9.7636719 18.919922 11.923828 Z M 3 21 v 8 h 8 V 25 H 7 v -4 z m 22 0 v 4 h -4 v 4 h 8 v -8 z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 4 4 v 6 H 6 V 6 h 4 V 4 Z m 18 0 v 2 h 4 v 4 h 2 V 4 Z m -6 5 -3 6 v 1 l 2 -1 1 1 1 -2 0.576172 0.367188 0.787109 -1.429688 z m 4 3 -1.53125 3.056641 0.599609 1 L 19.75 15.484375 20.767578 15.818359 22 18.236328 V 22 H 10 V 18.277344 L 12.417969 13.833984 12 13 9 18 v 5 H 23 V 18 Z M 4 22 v 6 h 6 V 26 H 6 v -4 z m 22 0 v 4 h -4 v 2 h 6 v -6 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="ToolGrids32px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 3 3 v 8 h 3 v 10 H 3 v 8 h 8 v -3 h 10 v 3 h 8 v -8 h -3 v -10 h 3 v -8 h -8 v 3 H 11 v -3 z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 4 4 v 6 H 6 V 6 h 4.001953 L 10 4 Z m 18 0 v 2 h 4 v 4.001953 L 28 10 V 4 Z M 7 7 V 25 H 25 V 7 Z m 2 2 h 4 v 4 H 9 Z m 5 0 h 4 v 4 h -4 z m 5 0 h 4 v 4 H 19 Z M 9 14 h 4 v 4 H 9 Z m 5 0 h 4 v 4 h -4 z m 5 0 h 4 v 4 H 19 Z M 9 19 h 4 v 4 H 9 Z m 5 0 h 4 v 4 h -4 z m 5 0 h 4 v 4 H 19 Z M 6 21.998047 4 22 v 6 h 6 V 26 H 6 Z M 26 22 v 4 H 21.998047 L 22 28 h 6 v -6 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="Plus16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="m 2 6 h 4 v -4 h 4 v 4 h 4 v 4 h -4 v 4 H 6 v -4 H 2 Z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="m 7 3 h 2 v 4 h 4 v 2 H 9 v 4 H 7 v -4 H 3 v -2 h 4 z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="Minux16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30">
                        <GeometryDrawing.Geometry>
                            <RectangleGeometry Rect="2,6,12,4" />
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                    <GeometryDrawing Brush="#FFF1F1F1">
                        <GeometryDrawing.Geometry>
                            <RectangleGeometry Rect="3,7,10,2" />
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="Save16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="F1M1,15L1,1 10,1 12.414,1 15,3.586 15,15z"/>
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="F1M12,2L11,2 11,7 5,7 5,2 2,2 2,14 14,14 14,4z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="F1M10,5L8,5 8,2 10,2z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="Undo16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="F1M14.8877,5.9717C14.8967,7.5607,14.2837,9.0537,13.1597,10.1757L7.3357,15.9997 7.0937,15.9997 4.3867,13.2927 10.3317,7.3477C10.6967,6.9837 10.8967,6.4987 10.8967,5.9847 10.8967,5.4697 10.6967,4.9847 10.3317,4.6207 9.9637,4.2527 9.4937,4.0377 8.9997,4.0107L8.9997,7.9997 0.999700000000001,7.9997 0.999700000000001,-0.000300000000000189 4.9997,-0.000300000000000189 4.9997,1.4737C6.0807,0.5217 7.4557,0.00170000000000048 8.9127,0.00170000000000048 10.4977,0.00170000000000048 11.9867,0.6177 13.1047,1.7367 14.2457,2.8777 14.8787,4.3817 14.8877,5.9717" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="F1M12.4531,9.4688L7.2151,14.7068 5.8011,13.2928 11.0391,8.0548C11.5921,7.5018 11.8961,6.7658 11.8961,5.9848 11.8961,5.2018 11.5921,4.4668 11.0391,3.9138 9.8411,2.7158 7.9831,2.7158 6.8421,3.8578L5.7001,4.9998 8.0001,4.9998 8.0001,6.9998 2.0001,6.9998 2.0001,0.9998 4.0001,0.9998 4.0001,3.8718 5.4281,2.4438C7.3491,0.521800000000001 10.4751,0.520799999999999 12.3971,2.4438 14.3751,4.4208 14.3751,7.5478 12.4531,9.4688" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="Redo16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="F1M2.8955,1.7363C4.0135,0.6173 5.5015,0.00229999999999997 7.0875,0.00229999999999997 8.5435,0.00229999999999997 9.9185,0.5223 10.9995,1.4743L10.9995,0.000299999999999967 14.9995,0.000299999999999967 14.9995,8.0003 6.9995,8.0003 6.9995,4.0103C6.5055,4.0383 6.0365,4.2523 5.6675,4.6203 5.3035,4.9853 5.1035,5.4693 5.1035,5.9843 5.1035,6.4993 5.3035,6.9833 5.6675,7.3473L11.6135,13.2933 8.9065,16.0003 8.6645,16.0003 2.8395,10.1753C1.7165,9.0533 1.1035,7.5603 1.1125,5.9713 1.1215,4.3813 1.7535,2.8773 2.8955,1.7363" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="F1M3.6025,2.4434C5.5245,0.521400000000001,8.6515,0.5224,10.5725,2.4434L11.9995,3.8714 11.9995,1.0004 13.9995,1.0004 13.9995,7.0004 7.9995,7.0004 7.9995,5.0004 10.2995,5.0004 9.1575,3.8574C8.0165,2.7154 6.1595,2.7154 4.9605,3.9134 4.4085,4.4664 4.1035,5.2024 4.1035,5.9844 4.1035,6.7664 4.4085,7.5014 4.9605,8.0544L10.1995,13.2934 8.7855,14.7074 3.5465,9.4684C1.6245,7.5474,1.6245,4.4214,3.6025,2.4434" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="AddGrid16px">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="#FF2D2D30" Geometry="M 2 0 L 2 2 L 0 2 L 0 6 L 2 6 L 2 8 L 2 14 L 14 14 L 14 2 L 8 2 L 6 2 L 6 0 L 2 0 z" />
                    <GeometryDrawing Brush="#FFF1F1F1" Geometry="M 8 3 L 8 4 L 9 4 L 9 6 L 8 6 L 7 6 L 6 6 L 6 7 L 6 8 L 6 9 L 4 9 L 4 8 L 3 8 L 3 13 L 13 13 L 13 3 L 8 3 z M 10 4 L 12 4 L 12 6 L 10 6 L 10 4 z M 7 7 L 9 7 L 9 9 L 7 9 L 7 7 z M 10 7 L 12 7 L 12 9 L 10 9 L 10 7 z M 4 10 L 6 10 L 6 12 L 4 12 L 4 10 z M 7 10 L 9 10 L 9 12 L 7 12 L 7 10 z M 10 10 L 12 10 L 12 12 L 10 12 L 10 10 z " />
                    <GeometryDrawing Brush="#FF8DD28A" Geometry="M7 5h-2v2h-1.981v-2h-2.019v-1.982h2.019v-2.018h1.981v2.018h2v1.982z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="CloseGlyph">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Geometry="M 18,11 27,20 M 18,20 27,11">
                        <GeometryDrawing.Pen>
                            <Pen Thickness="1" Brush="#FFF1F1F1" />
                        </GeometryDrawing.Pen>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="RestoreGlyph">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Geometry="M 18.5,12.5 H 25.5 V 19.5 H 18.5 Z M 20.5,12.5 V 10.5 H 27.5 V 17.5 H 25.5">
                        <GeometryDrawing.Pen>
                            <Pen Thickness="1" Brush="#FFF1F1F1" />
                        </GeometryDrawing.Pen>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="MaximizeGlyph">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Geometry="M 18.5,10.5 H 27.5 V 19.5 H 18.5 Z">
                        <GeometryDrawing.Pen>
                            <Pen Thickness="1" Brush="#FFF1F1F1" />
                        </GeometryDrawing.Pen>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
        <DrawingImage x:Key="MinimizeGlyph">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Geometry="M 18,15 H 28">
                        <GeometryDrawing.Pen>
                            <Pen Thickness="1" Brush="#FFF1F1F1" />
                        </GeometryDrawing.Pen>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>

        <!-- Styles -->
        <Style x:Key="CaptionButton" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="{StaticResource HoverBrush}" />
            <Setter Property="BorderBrush" Value="{x:Null}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Width" Value="46" />
            <Setter Property="shell:WindowChrome.IsHitTestVisibleInChrome" Value="True" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="Border" Background="Transparent" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter Margin="{TemplateBinding Padding}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{Binding Background, RelativeSource={RelativeSource AncestorType={x:Type Button}}}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Opacity" Value="0.65" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Opacity" Value="0.4" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="{x:Type local:Window}" TargetType="{x:Type local:Window}">
            <Setter Property="Background" Value="{StaticResource BackgroundWellBrush}" />
            <Setter Property="Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
            

            <Setter Property="shell:WindowChrome.WindowChrome">
                <Setter.Value>
                    <shell:WindowChrome GlassFrameThickness="1" CaptionHeight="27" UseAeroCaptionButtons="False" />
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type local:Window}">
                        <Border x:Name="MaximizeMargin" Padding="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="1*" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" Height="{Binding Top, Source={x:Static SystemParameters.WindowResizeBorderThickness}}" />
                                <Border Grid.Row="1" Height="{x:Static SystemParameters.WindowCaptionHeight}" />
                                <Border Grid.Row="2" Height="{Binding Left, Source={x:Static SystemParameters.WindowNonClientFrameThickness}}" />
                                <Border Grid.RowSpan="3" x:Name="Titlebar" Background="{StaticResource BackgroundHeadingBrush}" BorderThickness="1 1 1 0">
                                    <DockPanel>
                                        <Image DockPanel.Dock="Left" Source="{TemplateBinding Icon}" Width="16" Height="16" Stretch="Uniform" Margin="8 0 0 0" />

                                        <Button x:Name="PART_CloseButton" DockPanel.Dock="Right" Style="{StaticResource CaptionButton}" Background="#E81123">
                                            <Image Source="{StaticResource CloseGlyph}" />
                                        </Button>
                                        <Button x:Name="PART_MaximizeButton" DockPanel.Dock="Right" Style="{StaticResource CaptionButton}">
                                            <Image Source="{StaticResource MaximizeGlyph}" />
                                        </Button>
                                        <Button x:Name="PART_RestoreButton" DockPanel.Dock="Right" Style="{StaticResource CaptionButton}">
                                            <Image Source="{StaticResource RestoreGlyph}" />
                                        </Button>
                                        <Button x:Name="PART_MinimizeButton" DockPanel.Dock="Right" Style="{StaticResource CaptionButton}" RenderOptions.EdgeMode="Aliased">
                                            <Image Source="{StaticResource MinimizeGlyph}" />
                                        </Button>

                                        <TextBlock x:Name="Title" Text="{TemplateBinding Title}" VerticalAlignment="Center" Margin="8 0" />
                                    </DockPanel>
                                </Border>
                                <Border Grid.RowSpan="4" x:Name="Border" BorderThickness="1" />
                                <Border Grid.Row="3" Background="{TemplateBinding Background}" BorderThickness="1 0 1 1">
                                    <ContentPresenter Grid.Row="3" Content="{TemplateBinding Content}" />
                                </Border>
                            </Grid>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsActive" Value="False">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource BackgroundHeadingBrush}" />
                                <Setter TargetName="Titlebar" Property="Background" Value="{StaticResource BackgroundWellBrush}" />
                                <Setter TargetName="Title" Property="Foreground" Value="{StaticResource ForegroundSecondaryBrush}" />
                                <Setter TargetName="Title" Property="Opacity" Value="0.6" />
                            </Trigger>
                            <Trigger Property="WindowState" Value="Maximized">
                                <Setter TargetName="PART_MaximizeButton" Property="Visibility" Value="Collapsed" />
                                <Setter TargetName="MaximizeMargin" Property="Padding" Value="7" />
                            </Trigger>
                            <Trigger Property="WindowState" Value="Normal">
                                <Setter TargetName="PART_RestoreButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                            <Trigger Property="ResizeMode" Value="NoResize">
                                <Setter TargetName="PART_MaximizeButton" Property="Visibility" Value="Hidden" />
                                <Setter TargetName="PART_MinimizeButton" Property="Visibility" Value="Hidden" />
                                <Setter TargetName="PART_RestoreButton" Property="Visibility" Value="Hidden" />
                            </Trigger>
                            <Trigger Property="ResizeMode" Value="CanMinimize">
                                <Setter TargetName="PART_MaximizeButton" Property="IsEnabled" Value="False" />
                                <Setter TargetName="PART_RestoreButton" Property="IsEnabled" Value="False" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

        </Style>
        <Style TargetType="{x:Type Image}">
            <Setter Property="Stretch" Value="None" />
            <Setter Property="UseLayoutRounding" Value="True" />
        </Style>
        <Style TargetType="{x:Type GridSplitter}">
            <Setter Property="Background" Value="Transparent" />
        </Style>
        <Style TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}">
                            <Border x:Name="ShadingBorder">
                                <ContentPresenter x:Name="Content" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" />

                                <Border.Style>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="Background" Value="Transparent" />
                                    </Style>
                                </Border.Style>
                            </Border>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ShadingBorder" Property="Background" Value="{StaticResource HoverBrush}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ShadingBorder" Property="Background" Value="{StaticResource AccentBrush}" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Content" Property="Opacity" Value="0.5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="TextBlock.Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
            <Setter Property="Background" Value="Transparent" />
        </Style>
        <Style TargetType="{x:Type ToolBar}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToolBar}">
                        <Border x:Name="Border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
                            <DockPanel Margin="{TemplateBinding Padding}">
                                <ToggleButton x:Name="ToggleButton" DockPanel.Dock="Right" IsEnabled="{TemplateBinding HasOverflowItems}" ClickMode="Press" IsChecked="{Binding IsOverflowOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                    <Popup x:Name="OverflowPopup" Placement="Bottom" StaysOpen="False" Focusable="False" IsOpen="{TemplateBinding IsOverflowOpen}">
                                        <Border x:Name="OverflowBorder" Background="{StaticResource BackgroundBrush}">
                                            <ToolBarOverflowPanel x:Name="PART_ToolBarOverflowPanel" Focusable="True" FocusVisualStyle="{x:Null}" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">
                                                
                                            </ToolBarOverflowPanel>
                                        </Border>
                                    </Popup>
                                </ToggleButton>
                                <!-- No ToolBarThumb, please -->
                                <ToolBarPanel x:Name="PART_ToolBarPanel" IsItemsHost="True" />
                            </DockPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasOverflowItems" Value="False">
                                <Setter TargetName="ToggleButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="TextBlock.Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="OverridesDefaultStyle" Value="True" />
        </Style>
        <Style x:Key="{x:Static ToolBar.ButtonStyleKey}" BasedOn="{StaticResource {x:Type Button}}" TargetType="{x:Type Button}">
            <Setter Property="Padding" Value="5" />
        </Style>
        <Style TargetType="{x:Type Menu}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Menu}">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <StackPanel ClipToBounds="True" Orientation="Horizontal" IsItemsHost="True" Margin="{TemplateBinding Padding}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="{x:Static MenuItem.SeparatorStyleKey}" TargetType="{x:Type Separator}">
            <Setter Property="Height" Value="1" />
            <Setter Property="Margin" Value="0,4,0,4" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Separator}">
                        <Border Background="{TemplateBinding Background}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <ControlTemplate x:Key="{x:Static MenuItem.TopLevelHeaderTemplateKey}" TargetType="{x:Type MenuItem}">
            <Border x:Name="Border" SnapsToDevicePixels="True">
                <Grid>
                    <ContentPresenter Margin="7 3" ContentSource="Header" RecognizesAccessKey="True" />
                    <Popup x:Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsSubmenuOpen}" Focusable="False">
                        <Border x:Name="SubmenuBorder" SnapsToDevicePixels="True" UseLayoutRounding="True" Background="{StaticResource BackgroundWellBrush}">
                            <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Auto" SnapsToDevicePixels="True">
                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" Margin="0 2" />
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                </Border.Style>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="Border" Property="Opacity" Value="0.5" />
                </Trigger>
                <Trigger Property="IsSubmenuOpen" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundWellBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <ControlTemplate x:Key="{x:Static MenuItem.TopLevelItemTemplateKey}" TargetType="{x:Type MenuItem}">
            <Border x:Name="Border" SnapsToDevicePixels="True">
                <Grid>
                    <ContentPresenter Margin="6 3" ContentSource="Header" RecognizesAccessKey="True" />
                </Grid>
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                </Border.Style>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="Border" Property="Opacity" Value="0.5" />
                </Trigger>
                <Trigger Property="IsSubmenuOpen" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundWellBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <ControlTemplate x:Key="{x:Static MenuItem.SubmenuItemTemplateKey}" TargetType="{x:Type MenuItem}">
            <Border x:Name="Border" SnapsToDevicePixels="True">
                <Grid Margin="2 1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="32px"
                              SharedSizeGroup="Icon" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto"
                              SharedSizeGroup="Shortcut" />
                        <ColumnDefinition Width="24" />
                    </Grid.ColumnDefinitions>

                    <ContentPresenter x:Name="Icon" Margin="0,0,6,0" VerticalAlignment="Center" ContentSource="Icon" />
                    <!-- TODO: Checkmark -->
                    <ContentPresenter x:Name="HeaderHost" Grid.Column="1" ContentSource="Header" Margin="0,0,8,0" VerticalAlignment="Center" RecognizesAccessKey="True" />
                    <TextBlock x:Name="InputGestureText" Grid.Column="2" Text="{TemplateBinding InputGestureText}" Margin="5,2,0,2" HorizontalAlignment="Right" VerticalAlignment="Center" Opacity="0.5" />
                </Grid>
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                </Border.Style>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="Border" Property="Opacity" Value="0.5" />
                </Trigger>
                <Trigger Property="IsSubmenuOpen" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="{x:Static MenuItem.SubmenuHeaderTemplateKey}" TargetType="{x:Type MenuItem}">
            <Border x:Name="Border" SnapsToDevicePixels="True">
                <Grid Margin="2 1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="32px"
                              SharedSizeGroup="Icon" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto"
                              SharedSizeGroup="Shortcut" />
                        <ColumnDefinition Width="24" />
                    </Grid.ColumnDefinitions>

                    <ContentPresenter x:Name="Icon" Margin="0,0,6,0" VerticalAlignment="Center" ContentSource="Icon" />
                    <!-- TODO: Checkmark -->
                    <ContentPresenter x:Name="HeaderHost" Grid.Column="1" ContentSource="Header" Margin="0,0,8,0" VerticalAlignment="Center" RecognizesAccessKey="True" />
                    <TextBlock x:Name="InputGestureText" Grid.Column="2" Text="{TemplateBinding InputGestureText}" Margin="5,2,0,2" HorizontalAlignment="Right" VerticalAlignment="Center" Opacity="0.5" />
                    <Path Grid.Column="3" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 0 0 L 0 7 L 4 3.5 Z" Fill="{StaticResource ForegroundPrimaryBrush}" />
                    <Popup x:Name="Popup" Placement="Right" IsOpen="{TemplateBinding IsSubmenuOpen}" Focusable="False">
                        <Border x:Name="SubmenuBorder" SnapsToDevicePixels="True" UseLayoutRounding="True" Background="{StaticResource BackgroundWellBrush}">
                            <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Auto" SnapsToDevicePixels="True">
                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" Margin="0 2" />
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                </Border.Style>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="Border" Property="Opacity" Value="0.5" />
                </Trigger>
                <Trigger Property="IsSubmenuOpen" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style TargetType="{x:Type ToolTip}">
            <Setter Property="Background" Value="{StaticResource BackgroundWellBrush}" />
            <Setter Property="Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
            <Setter Property="BorderThickness" Value="0" />
        </Style>
        <Style TargetType="{x:Type TabControl}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid KeyboardNavigation.TabNavigation="Local">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>

                            <TabPanel x:Name="HeaderPanel" IsItemsHost="True" KeyboardNavigation.TabIndex="1" Background="Transparent" />

                            <Border x:Name="ContentPanel" Background="{StaticResource BackgroundBrush}" Grid.Row="1" KeyboardNavigation.TabNavigation="Local" KeyboardNavigation.DirectionalNavigation="Contained" KeyboardNavigation.TabIndex="2">
                                <ContentPresenter x:Name="PART_SelectedContentHost" ContentSource="SelectedContent" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="{x:Type TabItem}">
                        <Setter Property="HeaderTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <ContentPresenter Content="{Binding}" />
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type TabItem}">
                                    <Border x:Name="Border" Padding="8 4">
                                        <ContentPresenter Content="{Binding Header, RelativeSource={RelativeSource AncestorType={x:Type TabItem}}}" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="False">
                                            <Setter TargetName="Border" Property="Background" Value="Transparent" />
                                            <Setter TargetName="Border" Property="TextBlock.Foreground" Value="{StaticResource ForegroundSecondaryBrush}" />
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundBrush}" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundBrush}" />
                                            <Setter TargetName="Border" Property="TextBlock.Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type TreeView}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="{x:Null}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="TextBlock.Foreground" Value="{StaticResource ForegroundPrimaryBrush}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeView}">
                        <Border Name="Border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer Focusable="False" CanContentScroll="False" Padding="{TemplateBinding Padding}">
                                <ItemsPresenter />
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Resources>
                <Style TargetType="{x:Type TreeViewItem}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type TreeViewItem}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="1*" />
                                    </Grid.ColumnDefinitions>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <Border Grid.Column="1" x:Name="Background" Margin="-10000000 0 0 0">
                                        <Border.Style>
                                            <Style TargetType="{x:Type Border}">
                                                <Setter Property="Background" Value="Transparent" />
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="{StaticResource HoverBrush}" />
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <ContentPresenter Margin="10000000 0 0 0" x:Name="PART_Header" ContentSource="Header" TextBlock.Foreground="{StaticResource ForegroundPrimaryBrush}" />
                                    </Border>

                                    <ToggleButton x:Name="Expander" ClickMode="Press" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}">
                                        <ToggleButton.Style>
                                            <Style TargetType="{x:Type ToggleButton}">
                                                <Setter Property="Focusable" Value="False" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                            <Border Width="16" Height="16" Background="Transparent">
                                                                <Grid>
                                                                    <Path x:Name="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 2 0 L 6 4 L 2 8 Z" Fill="{StaticResource ForegroundSecondaryBrush}" />
                                                                    <Path x:Name="Expanded" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 0 0 L 8 0 L 4 4 Z" Fill="{StaticResource ForegroundSecondaryBrush}" />
                                                                </Grid>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsChecked" Value="True">
                                                                    <Setter TargetName="Collapsed" Property="Visibility" Value="Hidden" />
                                                                </Trigger>
                                                                <Trigger Property="IsChecked" Value="False">
                                                                    <Setter TargetName="Expanded" Property="Visibility" Value="Hidden" />
                                                                </Trigger>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="Collapsed" Property="Fill" Value="{StaticResource ForegroundPrimaryBrush}" />
                                                                    <Setter TargetName="Expanded" Property="Fill" Value="{StaticResource ForegroundPrimaryBrush}" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>

                                        </ToggleButton.Style>
                                    </ToggleButton>

                                    <ItemsPresenter x:Name="ItemsHost" Grid.Row="1" Grid.Column="1" />
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Background" Property="Background" Value="{StaticResource HoverBrush}" />
                                    </Trigger>
                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="IsSelected" Value="True" />
                                            <Condition Property="IsSelectionActive" Value="True" />
                                        </MultiTrigger.Conditions>
                                        <Setter TargetName="Background" Property="Background" Value="{StaticResource AccentBrush}" />
                                    </MultiTrigger>
                                    <Trigger Property="IsExpanded" Value="False">
                                        <Setter TargetName="ItemsHost" Property="Visibility" Value="Collapsed" />
                                    </Trigger>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter TargetName="Expander" Property="Visibility" Value="Hidden" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Style.Resources>
        </Style>
    </Application.Resources>
</Application>
